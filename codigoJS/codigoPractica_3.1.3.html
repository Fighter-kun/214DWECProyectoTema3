<!DOCTYPE html>
<!--
        Descripción: CodigoEjercicio3.1.3
        Autor: Carlos García Cachón
        Fecha de creación/modificación: 02/11/2023
-->
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="author" content="Carlos García Cachón">
        <meta name="description" content="CodigoEjercicio3.1.3">
        <meta name="keywords" content="CodigoEjercicio, 3.1.3">
        <meta name="generator" content="Apache NetBeans IDE 19">
        <meta name="generator" content="60">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Carlos García Cachón</title>
        <link rel="icon" type="image/jpg" href="../webroot/media/images/favicon.ico"/>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <link rel="stylesheet" href="../webroot/css/style.css">
    </head>

    <body>
        <header class="text-center">
            <h1>3. Realizar una aplicación web que pida al usuario un nombre y una contraseña:</h1>
        </header>
        <main>
            <div class="container mt-3">
                <div class="row">
                    <div class="col text-center">
                        <p>RECARGA LA PÁGINA SI QUIERES VOLVER A EJECUTAR EL EJERCICIO</p>
                        <p>RESULTADO:</p>
                        <script>
                             /*3. Queremos realizar una aplicación web que pida al usuario un nombre y una contraseña. 
                            El nombre de usuario solo puede estar formado por letras minúsculas y números, de otro modo, indicaremos el error y pediremos de nuevo el nombre. 
                            Lo que validaremos de la contraseña es que al menos tenga un elemento de los siguientes:  
                               1) una letra mayúscula 
                               2) una letra minúscula 
                               3) un número 
                               4) un carácter que no sea ni letra ni número 
                            Aunque sería más fácil resolver esta práctica con expresiones regulares, lo haremos sin ellas para 
                            practicar con los strings. Si la contraseña no cumple lo indicado en el punto anterior, pediremos al usuario que la indique de nuevo. 
                            Cuando lo cumpla, indicaremos con un mensaje que se ha almacenado correctamente la información. 
                            Ante cualquier cancelación en los cuadros, la aplicación termina. Lo indicaremos con un mensaje. */

                            //Declaración de variables
                            var nom_ok = true;
                            var letras = "abcdefghijklmnopqrstuvwxyz";
                            var letras_mayus = letras.toUpperCase();
                            var numeros = "0123456789";
                            var con_num = false;
                            var con_mayus = false;
                            var con_minus = false;
                            var con_simbolo = false;

                            //Pedimos el nombre de usuario
                            var user = prompt("Introduce usuario: ");
                            //Usamos un bucle para comprobar el usuario
                            do {
                                  //En el caso de que el usuario sea incorrecto lo pediremos de nuevo
                                  if (!nom_ok) {
                                     var user = prompt("ERROR Introduce usuario de manera correcta: ");
                                     var nom_ok = true;
                                  }
                                  //Usamos un bucle para recorrer cada caracter del usuario y comprobar que es correcto para finalizar el bucle
                                  for (const caracter of user) {
                                     if (!letras.includes(caracter) && !numeros.includes(caracter)) {
                                        nom_ok = false;
                                     }
                                  }

                            } while (nom_ok == false)

                            //Solicitamos la contraseña
                            var pass = prompt("Escribe una contraseña");
                            //Usamos un bucle para comprobar la contraseña
                            do {
                                  //Con esta condición comprobamos que cumple los parametros, y en caso erroneo pido la contraseña nuevamente
                                  if (!con_num || !con_mayus || !con_minus || !con_simbolo) {
                                     var pass = prompt("ERROR Introduce la contraseña de manera correcta: ");
                                  }
                                  //Usamos un bucle para recorrer cada caracter de la contraseña y comprobar que es correcto para finalizar el bucle
                                  for (const caracter of pass) {
                                     if (letras.includes(caracter)) {
                                        con_minus = true;
                                     } else if (letras_mayus.includes(caracter)) {
                                        con_mayus = true;
                                     } else if (numeros.includes(caracter)) {
                                        con_num = true;
                                     } else {
                                        con_simbolo = true;
                                     }
                                  }
                            } while (!con_num || !con_mayus || !con_minus || !con_simbolo)
                            //En caso correcto lanzamos el siguiente mensaje
                            document.write("Datos almacenados correctamente");
                        </script>
                    </div>
                </div>
            </div>
        </main>
        <footer class="position-fixed bottom-0 end-0">
            <div class="row text-center">
                <div class="footer-item">
                    <address>© <a href="../../index.html" style="color: white; text-decoration: none; background-color: #666">Carlos García Cachón</a>
                        IES LOS SAUCES 2023-24 </address>
                </div>
                <div class="footer-item">
                    <a href="../indexProyectoTema3.html" style="color: white; text-decoration: none; background-color: #666">Inicio</a>
                </div>
                <div class="footer-item">
                    <a href="https://github.com/Fighter-kun?tab=repositories" target="_blank"><img
                            src="../webroot/media/images/github.png" alt="LogoGitHub" class="pe-5"/></a>
                </div>
            </div>
        </footer>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    </body>

</html>